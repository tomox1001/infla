error_log  /var/log/nginx/error.log;
pid        /var/run/nginx.pid;
worker_rlimit_nofile 200000;
worker_processes  2;

events {
    use epoll;
    worker_connections  10000;
    #accept_mutex_delay 500ms;
}

http {
  include     mime.types;
  access_log  off;
  sendfile    on;
  etag        off;
  upstream app {
    server 127.0.0.1:80;
    keepalive 256;
  }

  server {
    root /home/ec2-user/node/public;
    location / {
      proxy_http_version 1.1;
      proxy_set_header Connection "";
      proxy_pass http://52.192.52.13:8080;
    }
    location ~ ^/(img|css|js)/ {
        #gzip_static  on; 
        #gzip_types text/css application/x-javascript;
        open_file_cache max=100;
        root /home/ec2-user/node/public;
    } 
 }
}
